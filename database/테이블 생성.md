# 테이블 생성

새로운 엔터티와 관계를 데이터베이스에 저장해야 할 때, **CREATE TABLE** 문을 사용하여 새로운 데이터베이스 테이블을 생성할 수 있다.

**테이블 생성 문 (옵션 테이블 제약 조건과 기본값 포함)**

```sql
CREATE TABLE IF NOT EXISTS mytable (
    column DataType TableConstraint DEFAULT default_value,
    another_column DataType TableConstraint DEFAULT default_value,
    …
);
```

새 테이블의 구조는 그 테이블 스키마에 의해 정의되며, 이는 일련의 열을 정의한다. 각 열은 이름, 해당 열에 허용되는 데이터 유형, 삽입되는 값에 대한 선택적 테이블 제약 조건, 그리고 선택적인 기본값을 가지고 있다.

동일한 이름의 테이블이 이미 존재하는 경우, SQL 구현은 보통 오류를 발생시킨다. 오류를 억제하고 테이블이 존재할 경우 테이블 생성을 건너뛰려면 IF NOT EXISTS 절을 사용할 수 있다.

### 테이블 데이터 유형

데이터베이스마다 지원하는 데이터 유형이 다르지만, 대부분의 공통 유형은 숫자, 문자열, 날짜, 불리언 또는 이진 데이터와 같은 다양한 데이터 유형을 지원한다. 아래는 실제 코드에서 사용할 수 있는 몇 가지 예이다.

| 데이터 유형                                             | 설명                                                           |
|----------------------------------------------------|--------------------------------------------------------------|
| **INTEGER, BOOLEAN**                               | 정수형 데이터 유형은 카운트나 나이를 저장할 수 있으며, Boolean은 보통 0 또는 1로 표현된다.    |
| **FLOAT, DOUBLE, REAL**                            | 부동 소수점 데이터 유형은 측정값이나 분수값과 같은 더 정밀한 수치 데이터를 저장한다.             |
| **CHARACTER(num_chars), VARCHAR(num_chars), TEXT** | 텍스트 기반 데이터 유형은 다양한 로케일의 문자열과 텍스트를 저장한다. CHARACTER와 VARCHAR는 저장 가능한 최대 문자의 수를 지정한다. |
| **DATE, DATETIME**                                 | SQL은 시간 데이터나 이벤트 데이터를 저장하기 위해 날짜와 시간 스탬프를 저장할 수 있다.          |
| **BLOB**                                           | SQL은 또한 이진 데이터를 BLOB로 저장할 수 있다. 이 값들은 보통 불투명하기 때문에 올바른 메타데이터와 함께 저장해야 한다. |

### 테이블 제약 조건

각 열에는 그 열에 삽입될 수 있는 값을 제한하는 추가적인 제약 조건이 있을 수 있다. 이 목록은 포괄적인 것은 아니지만 유용할 수 있는 몇 가지 일반적인 제약 조건을 소개한다.

| 제약 조건                  | 설명                                                           |
|------------------------|--------------------------------------------------------------|
| **PRIMARY KEY**        | 이 열의 값들이 고유하며, 각 값이 이 테이블에서 단일 행을 식별할 수 있음을 의미한다.            |
| **AUTOINCREMENT**      | 정수형 값의 경우, 각 행이 삽입될 때 값이 자동으로 증가함을 의미한다. 모든 데이터베이스에서 지원되는 것은 아니다. |
| **UNIQUE**             | 이 열의 값들이 고유해야 하며, 다른 행에 동일한 값을 삽입할 수 없음을 의미한다. 이는 PRIMARY KEY와 달리 이 열이 테이블에서 행의 키가 될 필요는 없다. |
| **NOT NULL**           | 삽입되는 값이 NULL이 될 수 없음을 의미한다.                                  |
| **CHECK (expression)** | 삽입되는 값이 유효한지 확인하기 위해 더 복잡한 표현식을 실행할 수 있다. 예를 들어 값이 양수인지, 특정 크기보다 큰지, 특정 접두사로 시작하는지 등을 확인할 수 있다. |
| **FOREIGN KEY**        | 이 열의 각 값이 다른 테이블의 열에 있는 값과 일치하는지 확인하는 일관성 검사를 수행한다.          |

